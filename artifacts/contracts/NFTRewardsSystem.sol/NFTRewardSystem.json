{
  "_format": "hh-sol-artifact-1",
  "contractName": "NFTRewardSystem",
  "sourceName": "contracts/NFTRewardsSystem.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_nftToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_loyaltyManager",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "achievementId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        }
      ],
      "name": "AchievementCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "achievementId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        }
      ],
      "name": "NFTMinted",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "achievements",
      "outputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "imageURI",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "requiredSpending",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "userTotalSpent",
          "type": "uint256"
        }
      ],
      "name": "checkEligibleAchievements",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "eligibleIds",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "imageURI",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "requiredSpending",
          "type": "uint256"
        }
      ],
      "name": "createAchievement",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "loyaltyManager",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "achievementId",
          "type": "uint256"
        }
      ],
      "name": "mintAchievementNFT",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextAchievementId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nftToken",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newLoyaltyManager",
          "type": "address"
        }
      ],
      "name": "updateLoyaltyManager",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userAchievements",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052600380546001600160a01b03191661016717905560016006553480156200002a57600080fd5b5060405162001521380380620015218339810160408190526200004d91620004e6565b600080546001600160a01b038085166001600160a01b03199283161790925560028054928416928216929092179091556001805490911633179055604080518082018252600e81526d466972737420507572636861736560901b60208083019190915282518084018452601881527f4d61646520796f75722066697273742070757263686173650000000000000000818301528351808501909452601584527f697066733a2f2f66697273742d707572636861736500000000000000000000009184019190915262000121926064620002cf565b620001ab6040518060400160405280600b81526020016a2134b39029b832b73232b960a91b8152506040518060400160405280600f81526020016e05370656e74206f766572202431303608c1b8152506040518060400160405280601281526020017134b833399d1797b134b396b9b832b73232b960711b815250612710620002cf60201b60201c565b620002376040518060400160405280601081526020016f2637bcb0b63a3c9021b430b6b834b7b760811b8152506040518060400160405280600f81526020016e05370656e74206f766572202435303608c1b8152506040518060400160405280600f81526020016e34b833399d1797b1b430b6b834b7b760891b81525061c350620002cf60201b60201c565b620002c76040518060400160405280600a8152602001692b24a81026b2b6b132b960b11b8152506040518060400160405280601581526020017f5265616368656420506c6174696e756d207469657200000000000000000000008152506040518060400160405280600a8152602001690697066733a2f2f7669760b41b815250620186a0620002cf60201b60201c565b5050620005dd565b6001546001600160a01b031633146200031b5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b604482015260640160405180910390fd5b6040805160a081018252858152602080820186905281830185905260608201849052600160808301526006546000908152600482529290922081518051929391926200036b928492019062000423565b50602082810151805162000386926001850192019062000423565b5060408201518051620003a491600284019160209091019062000423565b50606082015160038201556080909101516004909101805460ff19169115159190911790556006546040517fae36558d8565bda3262d84d4293e44b74f1c68e367ea7516e97ccde97ad2a38d90620003fe9087906200051e565b60405180910390a2600680549060006200041883620005b3565b919050555050505050565b828054620004319062000576565b90600052602060002090601f016020900481019282620004555760008555620004a0565b82601f106200047057805160ff1916838001178555620004a0565b82800160010185558215620004a0579182015b82811115620004a057825182559160200191906001019062000483565b50620004ae929150620004b2565b5090565b5b80821115620004ae5760008155600101620004b3565b80516001600160a01b0381168114620004e157600080fd5b919050565b60008060408385031215620004fa57600080fd5b6200050583620004c9565b91506200051560208401620004c9565b90509250929050565b600060208083528351808285015260005b818110156200054d578581018301518582016040015282016200052f565b8181111562000560576000604083870101525b50601f01601f1916929092016040019392505050565b600181811c908216806200058b57607f821691505b60208210811415620005ad57634e487b7160e01b600052602260045260246000fd5b50919050565b6000600019821415620005d657634e487b7160e01b600052601160045260246000fd5b5060010190565b610f3480620005ed6000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c806342be153e1161006657806342be153e146101565780634c9569341461016d5780638da5cb5b146101985780639b00de5e146101ab578063d06fcba8146101be57600080fd5b80630b0f9e0e146100a357806324548c60146100cc57806324d7897f1461010a57806327aed72e1461011f5780632a4d24d514610143575b600080fd5b6100b66100b1366004610b3b565b6101d1565b6040516100c39190610d90565b60405180910390f35b6100fa6100da366004610b3b565b600560209081526000928352604080842090915290825290205460ff1681565b60405190151581526020016100c3565b61011d610118366004610b7e565b610374565b005b61013261012d366004610c0e565b6104be565b6040516100c3959493929190610de7565b61011d610151366004610b3b565b610688565b61015f60065481565b6040519081526020016100c3565b600254610180906001600160a01b031681565b6040516001600160a01b0390911681526020016100c3565b600154610180906001600160a01b031681565b61011d6101b9366004610b19565b61096e565b600054610180906001600160a01b031681565b6060600060065467ffffffffffffffff8111156101f0576101f0610ee8565b604051908082528060200260200182016040528015610219578160200160208202803683370190505b509050600060015b6006548110156102d1576000818152600460208190526040909120015460ff16801561027157506001600160a01b038616600090815260056020908152604080832084845290915290205460ff16155b801561028e57506000818152600460205260409020600301548510155b156102bf57808383815181106102a6576102a6610ed2565b6020908102919091010152816102bb81610ea9565b9250505b806102c981610ea9565b915050610221565b508067ffffffffffffffff8111156102eb576102eb610ee8565b604051908082528060200260200182016040528015610314578160200160208202803683370190505b50925060005b8181101561036b5782818151811061033457610334610ed2565b602002602001015184828151811061034e5761034e610ed2565b60209081029190910101528061036381610ea9565b91505061031a565b50505092915050565b6001546001600160a01b031633146103c05760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064015b60405180910390fd5b6040805160a0810182528581526020808201869052818301859052606082018490526001608083015260065460009081526004825292909220815180519293919261040e92849201906109d7565b50602082810151805161042792600185019201906109d7565b50604082015180516104439160028401916020909101906109d7565b50606082015160038201556080909101516004909101805460ff19169115159190911790556006546040517fae36558d8565bda3262d84d4293e44b74f1c68e367ea7516e97ccde97ad2a38d9061049b908790610dd4565b60405180910390a2600680549060006104b383610ea9565b919050555050505050565b6004602052600090815260409020805481906104d990610e6e565b80601f016020809104026020016040519081016040528092919081815260200182805461050590610e6e565b80156105525780601f1061052757610100808354040283529160200191610552565b820191906000526020600020905b81548152906001019060200180831161053557829003601f168201915b50505050509080600101805461056790610e6e565b80601f016020809104026020016040519081016040528092919081815260200182805461059390610e6e565b80156105e05780601f106105b5576101008083540402835291602001916105e0565b820191906000526020600020905b8154815290600101906020018083116105c357829003601f168201915b5050505050908060020180546105f590610e6e565b80601f016020809104026020016040519081016040528092919081815260200182805461062190610e6e565b801561066e5780601f106106435761010080835404028352916020019161066e565b820191906000526020600020905b81548152906001019060200180831161065157829003601f168201915b50505050600383015460049093015491929160ff16905085565b6002546001600160a01b031633146106d95760405162461bcd60e51b815260206004820152601460248201527327b7363c903637bcb0b63a3c9036b0b730b3b2b960611b60448201526064016103b7565b6000818152600460208190526040909120015460ff166107345760405162461bcd60e51b8152602060048201526016602482015275416368696576656d656e74206e6f742061637469766560501b60448201526064016103b7565b6001600160a01b038216600090815260056020908152604080832084845290915290205460ff16156107a85760405162461bcd60e51b815260206004820152601f60248201527f416c7265616479206561726e6564207468697320616368696576656d656e740060448201526064016103b7565b604080516001808252818301909252600091816020015b60608152602001906001900390816107bf579050509050600460008381526020019081526020016000206002016040516020016107fc9190610e3a565b6040516020818303038152906040528160008151811061081e5761081e610ed2565b60209081029190910101526003546000805460405163707a02cd60e11b815291926001600160a01b039081169263e0f4059a9261086392169085908790600401610d14565b602060405180830381600087803b15801561087d57600080fd5b505af1158015610891573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108b59190610b65565b9050601681146108f95760405162461bcd60e51b815260206004820152600f60248201526e139195081b5a5b9d0819985a5b1959608a1b60448201526064016103b7565b6001600160a01b03841660008181526005602090815260408083208784528252808320805460ff1916600117905560049091529081902090517fd35bb95e09c04b219e35047ce7b7b300e3384264ef84a40456943dbc0fc17c149161096091879190610e4d565b60405180910390a250505050565b6001546001600160a01b031633146109b55760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064016103b7565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b8280546109e390610e6e565b90600052602060002090601f016020900481019282610a055760008555610a4b565b82601f10610a1e57805160ff1916838001178555610a4b565b82800160010185558215610a4b579182015b82811115610a4b578251825591602001919060010190610a30565b50610a57929150610a5b565b5090565b5b80821115610a575760008155600101610a5c565b80356001600160a01b0381168114610a8757600080fd5b919050565b600082601f830112610a9d57600080fd5b813567ffffffffffffffff80821115610ab857610ab8610ee8565b604051601f8301601f19908116603f01168101908282118183101715610ae057610ae0610ee8565b81604052838152866020858801011115610af957600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610b2b57600080fd5b610b3482610a70565b9392505050565b60008060408385031215610b4e57600080fd5b610b5783610a70565b946020939093013593505050565b600060208284031215610b7757600080fd5b5051919050565b60008060008060808587031215610b9457600080fd5b843567ffffffffffffffff80821115610bac57600080fd5b610bb888838901610a8c565b95506020870135915080821115610bce57600080fd5b610bda88838901610a8c565b94506040870135915080821115610bf057600080fd5b50610bfd87828801610a8c565b949793965093946060013593505050565b600060208284031215610c2057600080fd5b5035919050565b6000815180845260005b81811015610c4d57602081850181015186830182015201610c31565b81811115610c5f576000602083870101525b50601f01601f19169290920160200192915050565b8054600090600181811c9080831680610c8e57607f831692505b6020808410821415610cb057634e487b7160e01b600052602260045260246000fd5b83885260208801828015610ccb5760018114610cdc57610d07565b60ff19871682528282019750610d07565b60008981526020902060005b87811015610d0157815484820152908601908401610ce8565b83019850505b5050505050505092915050565b60006060820160018060a01b038616835260208560070b818501526060604085015281855180845260808601915060808160051b870101935082870160005b82811015610d8157607f19888703018452610d6f868351610c27565b95509284019290840190600101610d53565b50939998505050505050505050565b6020808252825182820181905260009190848201906040850190845b81811015610dc857835183529284019291840191600101610dac565b50909695505050505050565b602081526000610b346020830184610c27565b60a081526000610dfa60a0830188610c27565b8281036020840152610e0c8188610c27565b90508281036040840152610e208187610c27565b606084019590955250509015156080909101529392505050565b602081526000610b346020830184610c74565b828152604060208201526000610e666040830184610c74565b949350505050565b600181811c90821680610e8257607f821691505b60208210811415610ea357634e487b7160e01b600052602260045260246000fd5b50919050565b6000600019821415610ecb57634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea26469706673582212204e91e2808b785dd8f3c8444200bb1d0820ae23a14266fe1096df360b5cf522bf64736f6c63430008070033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c806342be153e1161006657806342be153e146101565780634c9569341461016d5780638da5cb5b146101985780639b00de5e146101ab578063d06fcba8146101be57600080fd5b80630b0f9e0e146100a357806324548c60146100cc57806324d7897f1461010a57806327aed72e1461011f5780632a4d24d514610143575b600080fd5b6100b66100b1366004610b3b565b6101d1565b6040516100c39190610d90565b60405180910390f35b6100fa6100da366004610b3b565b600560209081526000928352604080842090915290825290205460ff1681565b60405190151581526020016100c3565b61011d610118366004610b7e565b610374565b005b61013261012d366004610c0e565b6104be565b6040516100c3959493929190610de7565b61011d610151366004610b3b565b610688565b61015f60065481565b6040519081526020016100c3565b600254610180906001600160a01b031681565b6040516001600160a01b0390911681526020016100c3565b600154610180906001600160a01b031681565b61011d6101b9366004610b19565b61096e565b600054610180906001600160a01b031681565b6060600060065467ffffffffffffffff8111156101f0576101f0610ee8565b604051908082528060200260200182016040528015610219578160200160208202803683370190505b509050600060015b6006548110156102d1576000818152600460208190526040909120015460ff16801561027157506001600160a01b038616600090815260056020908152604080832084845290915290205460ff16155b801561028e57506000818152600460205260409020600301548510155b156102bf57808383815181106102a6576102a6610ed2565b6020908102919091010152816102bb81610ea9565b9250505b806102c981610ea9565b915050610221565b508067ffffffffffffffff8111156102eb576102eb610ee8565b604051908082528060200260200182016040528015610314578160200160208202803683370190505b50925060005b8181101561036b5782818151811061033457610334610ed2565b602002602001015184828151811061034e5761034e610ed2565b60209081029190910101528061036381610ea9565b91505061031a565b50505092915050565b6001546001600160a01b031633146103c05760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064015b60405180910390fd5b6040805160a0810182528581526020808201869052818301859052606082018490526001608083015260065460009081526004825292909220815180519293919261040e92849201906109d7565b50602082810151805161042792600185019201906109d7565b50604082015180516104439160028401916020909101906109d7565b50606082015160038201556080909101516004909101805460ff19169115159190911790556006546040517fae36558d8565bda3262d84d4293e44b74f1c68e367ea7516e97ccde97ad2a38d9061049b908790610dd4565b60405180910390a2600680549060006104b383610ea9565b919050555050505050565b6004602052600090815260409020805481906104d990610e6e565b80601f016020809104026020016040519081016040528092919081815260200182805461050590610e6e565b80156105525780601f1061052757610100808354040283529160200191610552565b820191906000526020600020905b81548152906001019060200180831161053557829003601f168201915b50505050509080600101805461056790610e6e565b80601f016020809104026020016040519081016040528092919081815260200182805461059390610e6e565b80156105e05780601f106105b5576101008083540402835291602001916105e0565b820191906000526020600020905b8154815290600101906020018083116105c357829003601f168201915b5050505050908060020180546105f590610e6e565b80601f016020809104026020016040519081016040528092919081815260200182805461062190610e6e565b801561066e5780601f106106435761010080835404028352916020019161066e565b820191906000526020600020905b81548152906001019060200180831161065157829003601f168201915b50505050600383015460049093015491929160ff16905085565b6002546001600160a01b031633146106d95760405162461bcd60e51b815260206004820152601460248201527327b7363c903637bcb0b63a3c9036b0b730b3b2b960611b60448201526064016103b7565b6000818152600460208190526040909120015460ff166107345760405162461bcd60e51b8152602060048201526016602482015275416368696576656d656e74206e6f742061637469766560501b60448201526064016103b7565b6001600160a01b038216600090815260056020908152604080832084845290915290205460ff16156107a85760405162461bcd60e51b815260206004820152601f60248201527f416c7265616479206561726e6564207468697320616368696576656d656e740060448201526064016103b7565b604080516001808252818301909252600091816020015b60608152602001906001900390816107bf579050509050600460008381526020019081526020016000206002016040516020016107fc9190610e3a565b6040516020818303038152906040528160008151811061081e5761081e610ed2565b60209081029190910101526003546000805460405163707a02cd60e11b815291926001600160a01b039081169263e0f4059a9261086392169085908790600401610d14565b602060405180830381600087803b15801561087d57600080fd5b505af1158015610891573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108b59190610b65565b9050601681146108f95760405162461bcd60e51b815260206004820152600f60248201526e139195081b5a5b9d0819985a5b1959608a1b60448201526064016103b7565b6001600160a01b03841660008181526005602090815260408083208784528252808320805460ff1916600117905560049091529081902090517fd35bb95e09c04b219e35047ce7b7b300e3384264ef84a40456943dbc0fc17c149161096091879190610e4d565b60405180910390a250505050565b6001546001600160a01b031633146109b55760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064016103b7565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b8280546109e390610e6e565b90600052602060002090601f016020900481019282610a055760008555610a4b565b82601f10610a1e57805160ff1916838001178555610a4b565b82800160010185558215610a4b579182015b82811115610a4b578251825591602001919060010190610a30565b50610a57929150610a5b565b5090565b5b80821115610a575760008155600101610a5c565b80356001600160a01b0381168114610a8757600080fd5b919050565b600082601f830112610a9d57600080fd5b813567ffffffffffffffff80821115610ab857610ab8610ee8565b604051601f8301601f19908116603f01168101908282118183101715610ae057610ae0610ee8565b81604052838152866020858801011115610af957600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610b2b57600080fd5b610b3482610a70565b9392505050565b60008060408385031215610b4e57600080fd5b610b5783610a70565b946020939093013593505050565b600060208284031215610b7757600080fd5b5051919050565b60008060008060808587031215610b9457600080fd5b843567ffffffffffffffff80821115610bac57600080fd5b610bb888838901610a8c565b95506020870135915080821115610bce57600080fd5b610bda88838901610a8c565b94506040870135915080821115610bf057600080fd5b50610bfd87828801610a8c565b949793965093946060013593505050565b600060208284031215610c2057600080fd5b5035919050565b6000815180845260005b81811015610c4d57602081850181015186830182015201610c31565b81811115610c5f576000602083870101525b50601f01601f19169290920160200192915050565b8054600090600181811c9080831680610c8e57607f831692505b6020808410821415610cb057634e487b7160e01b600052602260045260246000fd5b83885260208801828015610ccb5760018114610cdc57610d07565b60ff19871682528282019750610d07565b60008981526020902060005b87811015610d0157815484820152908601908401610ce8565b83019850505b5050505050505092915050565b60006060820160018060a01b038616835260208560070b818501526060604085015281855180845260808601915060808160051b870101935082870160005b82811015610d8157607f19888703018452610d6f868351610c27565b95509284019290840190600101610d53565b50939998505050505050505050565b6020808252825182820181905260009190848201906040850190845b81811015610dc857835183529284019291840191600101610dac565b50909695505050505050565b602081526000610b346020830184610c27565b60a081526000610dfa60a0830188610c27565b8281036020840152610e0c8188610c27565b90508281036040840152610e208187610c27565b606084019590955250509015156080909101529392505050565b602081526000610b346020830184610c74565b828152604060208201526000610e666040830184610c74565b949350505050565b600181811c90821680610e8257607f821691505b60208210811415610ea357634e487b7160e01b600052602260045260246000fd5b50919050565b6000600019821415610ecb57634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea26469706673582212204e91e2808b785dd8f3c8444200bb1d0820ae23a14266fe1096df360b5cf522bf64736f6c63430008070033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
